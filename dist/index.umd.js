"use strict";function _objectWithoutProperties(d,a){if(null==d)return{};var b,e,i=_objectWithoutPropertiesLoose(d,a);if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(d);for(e=0;e<h.length;e++)b=h[e],!(0<=a.indexOf(b))&&Object.prototype.propertyIsEnumerable.call(d,b)&&(i[b]=d[b])}return i}function _objectWithoutPropertiesLoose(d,a){if(null==d)return{};var b,e,i={},h=Object.keys(d);for(e=0;e<h.length;e++)b=h[e],0<=a.indexOf(b)||(i[b]=d[b]);return i}function _classCallCheck(c,a){if(!(c instanceof a))throw new TypeError("Cannot call a class as a function")}function _defineProperties(d,a){for(var b,f=0;f<a.length;f++)b=a[f],b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(d,b.key,b)}function _createClass(d,a,b){return a&&_defineProperties(d.prototype,a),b&&_defineProperties(d,b),d}function _slicedToArray(c,a){return _arrayWithHoles(c)||_iterableToArrayLimit(c,a)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(a,b){var d,g=[],e=!0,k=!1;try{for(var l,m=a[Symbol.iterator]();!(e=(l=m.next()).done)&&(g.push(l.value),!(b&&g.length===b));e=!0);}catch(b){k=!0,d=b}finally{try{e||null==m["return"]||m["return"]()}finally{if(k)throw d}}return g}function _arrayWithHoles(b){if(Array.isArray(b))return b}function _objectSpread(c){for(var a=1;a<arguments.length;a++){var e=null==arguments[a]?{}:arguments[a],f=Object.keys(e);"function"==typeof Object.getOwnPropertySymbols&&(f=f.concat(Object.getOwnPropertySymbols(e).filter(function(b){return Object.getOwnPropertyDescriptor(e,b).enumerable}))),f.forEach(function(a){_defineProperty(c,a,e[a])})}return c}function _defineProperty(d,a,b){return a in d?Object.defineProperty(d,a,{value:b,enumerable:!0,configurable:!0,writable:!0}):d[a]=b,d}function _toConsumableArray(b){return _arrayWithoutHoles(b)||_iterableToArray(b)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(b){if(Symbol.iterator in Object(b)||"[object Arguments]"===Object.prototype.toString.call(b))return Array.from(b)}function _arrayWithoutHoles(c){if(Array.isArray(c)){for(var a=0,e=Array(c.length);a<c.length;a++)e[a]=c[a];return e}}var fuckMD=function(e){"use strict";function v(d,a){if(!d)return{type:"add",prevNode:d,nextNode:a};if(!a)return{type:"del",prevNode:d,nextNode:a};if(d.type!==a.type)return{type:"replace",prevNode:d,nextNode:a};var b={type:"update",prevNode:d,nextNode:a,propsChange:[],children:[]},e=l(d,a);if(e.length){var f;(f=b.propsChange).push.apply(f,_toConsumableArray(e))}return(b.children=k(d,a).filter(function(b){return b}),0<b.propsChange.length+b.children.length)?b:(a.__htmlNode=d.__htmlNode,a.__update=d.__update,b)}function k(d,c){var f=d.children,g=void 0===f?[]:f,h=c.children,a=void 0===h?[]:h,i=[],b=[],j=g.filter(function(b){return!!a.some(function(c){return c.type===b.type})||(i.push(v(b,null)),!1)});a.forEach(function(d){j.some(function(a,b){return a.type===d.type&&(j[b]={isDel:!0,ele:a},!0)})}),j.filter(function(b){return!b.isDel}).forEach(function(a){return i.push(v(a,null))});var k=j.filter(function(b){return b.isDel}).map(function(b){return b.ele});return a.forEach(function(g,c){var d=k.some(function(d,e){if(d.type===g.type){k.splice(e,1),k.splice(c>e?c-1:c,0,{used:!0,ele:d}),e!==c&&b.push({type:"move",prevNode:d,nextNode:g,current:e,moveTo:c>e?c+1:c});var f=v(d,g);return b.push(f),!0}return!1});if(!d){k.splice(c,0,{add:!0,item:g});var e=v(null,g);b.push(_objectSpread({},e,{moveTo:c}))}}),i.concat(b,[],[])}function l(){var d=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},f=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},g=Object.keys(d),e=Object.keys(f),a=[];return g.forEach(function(b){return["__htmlNode","__parent","__update","children","type"].includes(b)?void 0:e.includes(b)?void(d[b]!==f[b]&&a.push({type:"change",key:b,prevNode:d,nextNode:f})):void a.push({type:"del",key:b,prevNode:d,nextNode:f})}),e.forEach(function(b){g.includes(b)||a.push({type:"add",key:b,prevNode:d,nextNode:f})}),a}function m(){for(var b,c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"[",f=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"]",d=0,k=-1,l=0,m=function(b){return c.slice(d,d+b.length)===b};d<c.length;){if(b=c[d],!l)if(!b.trim()){d+=1;continue}else if(m(e)){k=d,l+=1,d+=e.length;continue}else return[void 0,c];if(m(f)?(l-=1,d+=f.length):m(e)?(l+=1,d+=e.length):d+=1,!l)return[c.slice(k+e.length,d-f.length),c.slice(d)]}return[void 0,c]}function n(){var d=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",b=d.indexOf(a);return[d.slice(0,b),d.slice(b+a.length)]}function p(){function q(f,a){var b=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},c=b.isPush,d=r;r=f,f.__parent=r,a&&a(),r=d,(void 0===c||c)&&r.children.push(f)}function a(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";h=h.slice(b.length)}function k(c){return[L.head,L.ul,L.code,L.queto].some(function(a){return a.test(c)})}function c(){function b(){var d=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,b=d.split("\n")[a].trim();return /^\|.+\|$/.test(b)?b.split("|").slice(1,-1):[]}var d=b(h,0),e=b(h,1),i=d.length;if(0!=i&&d.length==e.length&&e.every(function(b){return /^-+$/.test(b.replace(/\s/g,""))}))return q({type:"table",children:[]},function(){h=h.replace(/(.+)\n?/,function(a,b){return q({type:"thead",children:[]},function(){q({type:"tr",children:[]},function(){b.trim().split("|").slice(1,-1).map(function(a){q({type:"th",children:[]},function(){f(a)})})})}),""}),h=h.replace(/.+\n?/,""),q({type:"tbody",children:[]},function(){for(var a,b=function b(){var b=(h.match(/^.+\n?/)||[])[0];return b?k(b)?"break":void(h=h.replace(b,""),q({type:"tr",children:[]},function(){var c,d=b.trim().split("|");d=d[0]?d.slice(0,i):d.slice(1).slice(0,i),(c=d).push.apply(c,_toConsumableArray(Array(i-d.length).fill(""))),d.forEach(function(a){q({type:"td",children:[]},function(){f(a)})})})):"break"};a=b(),"break"!==a;);})}),!0}function f(){var d=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";if(d){if(L.url.test(d))return void f(d.replace(L.url,function(a,b,c){return q({type:"a",href:c,value:b,children:[]},function(){f(b)}),""}));if(L.blod.test(d))return void f(d.replace(L.blod,function(a,b){return q({type:"b",children:[]},function(){f(b)}),""}));if(L.italic.test(d))return void f(d.replace(L.italic,function(a,b){return q({type:"i",children:[]},function(){f(b)}),""}));if(L.inlineCode.test(d))return void f(d.replace(L.inlineCode,function(a,b){return b&&q({type:"inlineCode",children:[]},function(){f(b)}),""}));if(L.video.test(d))return void f(d.replace(L.video,function(d,a,b){return r.children.push({type:"video",src:b,alt:a}),""}));if(L.audio.test(d))return d=d.replace(L.audio,function(d,a,b){return r.children.push({type:"audio",src:b,alt:a}),""}),void f(d);if(L.img.test(d))return void f(d.replace(L.img,function(d,a,b){return r.children.push({type:"img",src:b,alt:a}),""}));if("\n"==d[0])return r.children.push({type:"br"}),void f(d.slice(1));var e=r.children[r.children.length-1];e&&"text"===e.type?e.value+=d[0]:r.children.push({type:"text",value:b(d[0])}),f(d.slice(1))}}function b(b){return b.replace(/>/g,">").replace(/\\#/g,"#").replace(/\\`/g,"`").replace(/\\-/g,"-").replace(/\\\*/g,"*")}function e(){function g(){var a=Math.floor,c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:-1;if(j){var e=(j.match(/.+\n?/)||[])[0],d=e.match(/\s*/)[0],k=a(d.length/5);if(/^[-+]\s+/.test(e.trim())){var h="+"==e.match(/\s*[-+]/)[0].trim();if(k==c+1){var l={type:"ul",listStyleType:h?"decimal":b[k%b.length],children:[]};return q(l,function(){g(c+1)}),void g(c)}if(k==c)return q({type:"li",children:[]},function(){c(e.replace(/\s*[-+]\s*/,""))}),j=j.slice(e.length),void g(c);if(k<c)return}var i=r.children[r.children.length-1];q(i,function(){c(e)},{isPush:!1}),j=j.slice(e.length),g(c)}}var j=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";j="".concat(j,"\n");var b=["disc","circle","square"];g()}function d(){if(!/^\n{1,2}$/.test(h)&&h){if(/Reg.br/.test(h)){var i=h.match(L.br),b=_slicedToArray(i,1),j=b[0];return r.children.push({type:"br"}),a(j),void d()}if(L.head.test(h)){var g=h.match(L.head)||[],k=_slicedToArray(g,3),o=k[0],M=k[1],l=k[2],w={type:"h".concat(M.length),children:[]};return q(w,function(){f(l)}),a(o),void d()}if(L.queto.test(h)){var N=h.match(L.queto),O=_slicedToArray(N,2),P=O[0],Q=O[1],R=m(Q,"[","]"),u=_slicedToArray(R,2),S=u[0],E=u[1],T={type:"queto",tag:S,children:[]},U=p(E.replace(/^\s*\n/,""));return T.children=U.children,r.children.push(T),r.children.push({type:"br"}),a(P),void d()}if(L.code.test(h)){var V=h.match(L.code),s=_slicedToArray(V,2),t=s[0],v=s[1],W=n(v,"\n").map(function(b){return b.trim()}),x=_slicedToArray(W,2),y=x[0],z=x[1];return r.children.push({type:"code",language:y,value:z}),a(t),void d()}if(L.ul.test(h)){var A=h.match(L.ul),B=_slicedToArray(A,2),C=B[0],D=B[1];return q(r,function(){e(D)},{isPush:!1}),r.children.push({type:"br"}),a(C),void d()}if(h.match(/.+\n/)&&/\|.+\|/.test(h.match(/.+\n/)[0].trim())&&c(h))return void d();if(L.hr.test(h)){var X=h.match(L.hr)||[],F=_slicedToArray(X,1),G=F[0];return void 0!==G&&r.children.push({type:"hr",children:[]}),a(G),void d()}if(L.text.test(h)){var H=h.match(L.text)||[""],I=_slicedToArray(H,1),J=I[0];return f(J),a(J),void d()}throw new Error("cannot handle str:".concat(h))}}var h=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";h+="\n\n";var r={children:[],type:"root"};return d(),r}function o(c,a){return a&&a.parentElement&&a.parentElement.insertBefore(c,a),c}function h(p){var g=1<arguments.length&&void 0!==arguments[1]?arguments[1]:document.body;if(p){var i=p.nextNode;switch(p.type){case"del":{var d=p.prevNode.__htmlNode;d.parentElement||console.log("delete error::",p),d.parentElement.removeChild(d);break}case"add":{c(i,g,{beforeAppend:function(a){var b=g.childNodes[p.moveTo];if(b)return o(a,b),!0}});break}case"replace":{var b=p.prevNode.__htmlNode,f=document.createDocumentFragment();c(i,f),b.parentElement.replaceChild(f,b);break}case"move":{var j=p.moveTo,k=p.prevNode,a=k.__htmlNode.parentElement;a.childNodes[j]!==k.__htmlNode&&(a.childNodes[j]?o(k.__htmlNode,a.childNodes[j]):a.appendChild(k.__htmlNode));break}case"update":{var l=p.propsChange,q=p.children,e=p.prevNode,m=p.nextNode,n=e.__htmlNode;m.__htmlNode=n,e.__update&&(m.__update=e.__update),l.forEach(function(d){var a=d.key;switch(d.type){case"change":case"add":{var b=m[a];if(e.__update){e.__update(a,m);break}if(n instanceof Text){n.data=b;break}n.setAttribute(a,b);break}case"del":{n.removeAttribute(a);break}}}),q.forEach(function(b){return h(b,n)});break}default:console.error("canot handle type",p,p.type);}}}function q(b){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";return"text"===b.type&&(c+=b.value||""),b.children&&b.children.forEach(function(b){c+=q(b)}),c}function c(f,k){var d,l=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};switch(f.type){case"audio":case"video":{if(/^<iframe(\s*.+)*><\/iframe>$/.test(f.src.trim())){d=document.createElement("div"),d.className="audio",d.innerHTML=f.src.replace("http://","//");var r=d.querySelector("iframe");r.style.cssText+=";max-width: 100%; max-height: 60vw; overflow: hidden;"}else d=document.createElement(f.type),d.src=f.src,d.alt=f.alt,d.controls="true";break}case"img":{var i=f.src.match(/\.(\d+)x(\d+)\./);if(i){var j=i.slice(1,3),m=_slicedToArray(j,2),s=m[0],a=m[1],n=f.src;d=document.createElement("div"),d.style.cssText=";position: relative; max-width: ".concat(s,"px; overflow: hidden; background: rgb(219, 221, 215);"),d.innerHTML="<div style=\"padding-top: ".concat(100*(a/s),"%;\">\n                            <img ").concat(LY.lazyLoad.caches.includes(n)?"src=\"".concat(n,"\" data-img-cache=\"true\""):"","\n                                class=\"lazy-load-img img-loading\"\n                                data-lazy-img=\"").concat(f.src,"\"\n                                style=\"position: absolute; width: 100%; height: 100%; top: 0;\" />\n                        </div>");break}else{d=document.createElement(f.type),d.src=f.src,d.alt=f.alt;break}}case"text":{var p=f.value;d=document.createTextNode(p);break}case"br":{d=document.createElement(f.type);break}case"a":{d=document.createElement(f.type),d.href=f.href,d.target="_blank";break}case"code":{d=document.createElement("pre");var o=document.createElement("code");f.__update=function(c,a){switch(c){case"language":{o.className=["highlight",a[c]||""].join(" ");break}case"value":{o.textContent=a[c];break}default:}},f.__update("language",f),f.__update("value",f),d.appendChild(o);break}case"inlineCode":{d=document.createElement("code"),d.className="inlineCode";break}case"h1":{d=document.createElement(f.type);var t=document.createElement("a"),b=q(f);t.href="#".concat(b),t.id=b,d.appendChild(t);break}case"ul":{d=document.createElement(f.type),f.__update=function(c,a){d.style.cssText+=";list-style-type:".concat(a[c],";")},f.__update("listStyleType",f);break}default:d=document.createElement(f.type),f.indent&&(d.style.cssText+=";padding-left: 2em;"),"table"==f.type&&d.setAttribute("border","1");}f.tag&&d.setAttribute("tag",f.tag),f.children&&f.children.forEach(function(a){return c(a,d)});var g=l.beforeAppend&&l.beforeAppend(d);return g||k.appendChild(d),f.__htmlNode=d,d}function r(b){function e(b){"text"==b.type&&(c+=b.value||""),"img"==b.type&&g.push(b.src),b.children&&b.children.forEach(e)}var c="",g=[];return e(b),{text:c,imgs:g}}function g(){var c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",b=f[c];if(!b){var d=p(c);b=_objectSpread({root:d},r(d)),f[c]=b}return b}function a(f){return new Promise(function(a){if(t[f])return a();var b=function(){t[f]=!0,a()};if(f.endsWith(".js")){var c=document.createElement("script");c.onload=b,c.src=f,document.head.appendChild(c)}else if(f.endsWith(".css")){var d=document.createElement("link");d.onload=b,d.type="text/css",d.rel="stylesheet",d.charset="utf-8",d.href=f,document.head.appendChild(d)}})}function i(d,c){Promise.all(c.asset.map(a)).then(function(){window.hljs&&d&&(window.hljs.configure({tabReplace:4}),_toConsumableArray(d.querySelectorAll("code.highlight")).forEach(function(b){window.hljs.highlightBlock(b)}))})}function s(b){return _objectSpread({asset:[]},b)}var L={get hr(){return /(^-{3,}[^\n]+\n?)/},get code(){return /^`{3}(((?!```)[\s\S])*)`{3}/},get queto(){return /^>(((?!\n\n)[\s\S])*)\n\n/},get head(){return /^\s*(#{1,6})([^\n]*)\n?/},get ul(){return /^([-+]\s+((?!\n\n)[\s\S])*)\n\n/},get url(){return /^\[([^\]]+)\]\(([^)]+)\)/},get inlineCode(){return /^`([^`]*)`/},get br(){return /^\n/},get text(){return /^[^\n]*\n?/},get blod(){return /^\*{3}(((?!\*{3}).)*)\*{3}/},get italic(){return /^\*{2}(((?!\*{2}).)*)\*{2}/},get video(){return /^!{3}\[([^\]]*)\]\(([^)]+)\)/},get audio(){return /^!{2}\[([^\]]*)\]\(([^)]+)\)/},get img(){return /^!\[([^\]]*)\]\(([^)]+)\)/}},f={},t={},d=function(){function c(a,d){_classCallCheck(this,c),this.dom=a,this.config=d,this.prevRoot=null}return _createClass(c,[{key:"update",value:function(b){this.dom.classList.add("markdown");var e=g(b),a=v(this.prevRoot,e.root);this.prevRoot=e.root,h(a,this.dom);var c=s(this.config);c.useHighlight&&i(this.dom,c)}}]),c}();return e.Markdown=d,e.parser=p,e.trans=c,e.codeHighlight=i,e.getParseResult=g,e.markdown=function(f,d,b){f.innerHTML="",f.classList.add("markdown");var h=g(d);c(h.root,f),b=s(b),i(f,b)},e.markdownInfo=function(c){var d=g(c),a=d.root,e=_objectWithoutProperties(d,["root"]);return e},e}({});