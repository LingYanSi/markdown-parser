"use strict";function _objectWithoutProperties(a,b){if(null==a)return{};var c,f,h=_objectWithoutPropertiesLoose(a,b);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(a);for(f=0;f<g.length;f++)c=g[f],!(0<=b.indexOf(c))&&Object.prototype.propertyIsEnumerable.call(a,c)&&(h[c]=a[c])}return h}function _objectWithoutPropertiesLoose(a,b){if(null==a)return{};var c,f,h={},g=Object.keys(a);for(f=0;f<g.length;f++)c=g[f],0<=b.indexOf(c)||(h[c]=a[c]);return h}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _defineProperties(a,b){for(var c,e=0;e<b.length;e++)c=b[e],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}function _createClass(a,b,c){return b&&_defineProperties(a.prototype,b),c&&_defineProperties(a,c),a}function _slicedToArray(a,b){return _arrayWithHoles(a)||_iterableToArrayLimit(a,b)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(c,d){var e,a=[],b=!0,h=!1;try{for(var i,j=c[Symbol.iterator]();!(b=(i=j.next()).done)&&(a.push(i.value),!(d&&a.length===d));b=!0);}catch(b){h=!0,e=b}finally{try{b||null==j["return"]||j["return"]()}finally{if(h)throw e}}return a}function _arrayWithHoles(a){if(Array.isArray(a))return a}function _objectSpread(a){for(var b=1;b<arguments.length;b++){var f=null==arguments[b]?{}:arguments[b],d=Object.keys(f);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(f).filter(function(a){return Object.getOwnPropertyDescriptor(f,a).enumerable}))),d.forEach(function(b){_defineProperty(a,b,f[b])})}return a}function _defineProperty(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function _toConsumableArray(a){return _arrayWithoutHoles(a)||_iterableToArray(a)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(a){if(Symbol.iterator in Object(a)||"[object Arguments]"===Object.prototype.toString.call(a))return Array.from(a)}function _arrayWithoutHoles(a){if(Array.isArray(a)){for(var b=0,d=Array(a.length);b<a.length;b++)d[b]=a[b];return d}}var fuckMD=function(e){"use strict";function s(d,g){if(!d)return{type:"add",prevNode:d,nextNode:g};if(!g)return{type:"del",prevNode:d,nextNode:g};if(d.type!==g.type)return{type:"replace",prevNode:d,nextNode:g};var e={type:"update",prevNode:d,nextNode:g,propsChange:[],children:[]},f=b(d,g);if(f.length){var a;(a=e.propsChange).push.apply(a,_toConsumableArray(f))}return(e.children=t(d,g).filter(function(a){return a}),0<e.propsChange.length+e.children.length)?e:(g.__htmlNode=d.__htmlNode,g.__update=d.__update,e)}function t(i,j){var e=i.children,d=void 0===e?[]:e,c=j.children,g=void 0===c?[]:c,h=[],k=[],a=d.filter(function(b){return!!g.some(function(c){return c.type===b.type})||(h.push(s(b,null)),!1)});g.forEach(function(b){a.some(function(e,c){return e.type===b.type&&(a[c]={isDel:!0,ele:e},!0)})}),a.filter(function(a){return!a.isDel}).forEach(function(a){return h.push(s(a,null))});var l=a.filter(function(a){return a.isDel}).map(function(a){return a.ele});return g.forEach(function(f,d){var a=l.some(function(c,e){if(c.type===f.type){l.splice(e,1),l.splice(d>e?d-1:d,0,{used:!0,ele:c}),e!==d&&k.push({type:"move",prevNode:c,nextNode:f,current:e,moveTo:d>e?d+1:d});var a=s(c,f);return k.push(a),!0}return!1});if(!a){l.splice(d,0,{add:!0,item:f});var b=s(null,f);k.push(_objectSpread({},b,{moveTo:d}))}}),h.concat(k,[],[])}function b(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},c=Object.keys(a),f=Object.keys(b),g=[];return c.forEach(function(c){return["__htmlNode","__parent","__update","children","type"].includes(c)?void 0:f.includes(c)?void(a[c]!==b[c]&&g.push({type:"change",key:c,prevNode:a,nextNode:b})):void g.push({type:"del",key:c,prevNode:a,nextNode:b})}),f.forEach(function(e){c.includes(e)||g.push({type:"add",key:e,prevNode:a,nextNode:b})}),g}function f(){for(var a,g=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"[",e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"]",f=0,h=-1,i=0,j=function(a){return g.slice(f,f+a.length)===a};f<g.length;){if(a=g[f],!i)if(!a.trim()){f+=1;continue}else if(j(c)){h=f,i+=1,f+=c.length;continue}else return[void 0,g];if(j(e)?(i-=1,f+=e.length):j(c)?(i+=1,f+=c.length):f+=1,!i)return[g.slice(h+c.length,f-e.length),g.slice(f)]}return[void 0,g]}function g(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",c=a.indexOf(b);return[a.slice(0,c),a.slice(c+b.length)]}function h(){function s(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},d=c.isPush,e=o;o=a,a.__parent=o,b&&b(),o=e,(void 0===d||d)&&o.children.push(a)}function i(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";t=t.slice(a.length)}function d(a){return[A.head,A.ul,A.code,A.queto].some(function(b){return b.test(a)})}function j(){function a(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,c=a.split("\n")[b].trim();return /^\|.+\|$/.test(c)?c.split("|").slice(1,-1):[]}var f=a(t,0),c=a(t,1),g=f.length;if(0!=g&&f.length==c.length&&c.every(function(a){return /^-+$/.test(a.replace(/\s/g,""))}))return s({type:"table",children:[]},function(){t=t.replace(/(.+)\n?/,function(b,c){return s({type:"thead",children:[]},function(){s({type:"tr",children:[]},function(){c.trim().split("|").slice(1,-1).map(function(b){s({type:"th",children:[]},function(){k(b)})})})}),""}),t=t.replace(/.+\n?/,""),s({type:"tbody",children:[]},function(){for(var b,c=function b(){var b=(t.match(/^.+\n?/)||[])[0];return b?d(b)?"break":void(t=t.replace(b,""),s({type:"tr",children:[]},function(){var a,d=b.trim().split("|");d=d[0]?d.slice(0,g):d.slice(1).slice(0,g),(a=d).push.apply(a,_toConsumableArray(Array(g-d.length).fill(""))),d.forEach(function(b){s({type:"td",children:[]},function(){k(b)})})})):"break"};b=c(),"break"!==b;);})}),!0}function k(){var d=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";if(d){if(A.url.test(d))return void k(d.replace(A.url,function(b,c,d){return s({type:"a",href:d,value:c,children:[]},function(){k(c)}),""}));if(A.blod.test(d))return void k(d.replace(A.blod,function(b,c){return s({type:"b",children:[]},function(){k(c)}),""}));if(A.italic.test(d))return void k(d.replace(A.italic,function(b,c){return s({type:"i",children:[]},function(){k(c)}),""}));if(A.inlineCode.test(d))return void k(d.replace(A.inlineCode,function(b,c){return c&&s({type:"inlineCode",children:[]},function(){k(c)}),""}));if(A.video.test(d))return void k(d.replace(A.video,function(a,b,c){return o.children.push({type:"video",src:c,alt:b}),""}));if(A.audio.test(d))return d=d.replace(A.audio,function(a,b,c){return o.children.push({type:"audio",src:c,alt:b}),""}),void k(d);if(A.img.test(d))return void k(d.replace(A.img,function(a,b,c){return o.children.push({type:"img",src:c,alt:b}),""}));if("\n"==d[0])return o.children.push({type:"br"}),void k(d.slice(1));var e=o.children[o.children.length-1];e&&"text"===e.type?e.value+=d[0]:o.children.push({type:"text",value:a(d[0])}),k(d.slice(1))}}function a(a){return a.replace(/>/g,">").replace(/\\#/g,"#").replace(/\\`/g,"`").replace(/\\-/g,"-").replace(/\\\*/g,"*")}function b(){function f(){var b=Math.floor,j=0<arguments.length&&void 0!==arguments[0]?arguments[0]:-1;if(g){var c=(g.match(/.+\n?/)||[])[0],e=c.match(/\s*/)[0],d=b(e.length/5);if(/^[-+]\s+/.test(c.trim())){var k="+"==c.match(/\s*[-+]/)[0].trim();if(d==j+1){var h={type:"ul",listStyleType:k?"decimal":a[d%a.length],children:[]};return s(h,function(){f(j+1)}),void f(j)}if(d==j)return s({type:"li",children:[]},function(){j(c.replace(/\s*[-+]\s*/,""))}),g=g.slice(c.length),void f(j);if(d<j)return}var i=o.children[o.children.length-1];s(i,function(){j(c)},{isPush:!1}),g=g.slice(c.length),f(j)}}var g=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";g="".concat(g,"\n");var a=["disc","circle","square"];f()}function e(){if(!/^\n{1,2}$/.test(t)&&t){if(/Reg.br/.test(t)){var a=t.match(A.br),c=_slicedToArray(a,1),d=c[0];return o.children.push({type:"br"}),i(d),void e()}if(A.head.test(t)){var l=t.match(A.head)||[],m=_slicedToArray(l,3),n=m[0],p=m[1],q=m[2],r={type:"h".concat(p.length),children:[]};return s(r,function(){k(q)}),i(n),void e()}if(A.queto.test(t)){var B=t.match(A.queto),C=_slicedToArray(B,2),D=C[0],F=C[1],v=f(F,"[","]"),G=_slicedToArray(v,2),H=G[0],W=G[1],I={type:"queto",tag:H,children:[]},J=h(W.replace(/^\s*\n/,""));return I.children=J.children,o.children.push(I),o.children.push({type:"br"}),i(D),void e()}if(A.code.test(t)){var w=t.match(A.code),K=_slicedToArray(w,2),L=K[0],M=K[1],N=g(M,"\n").map(function(a){return a.trim()}),O=_slicedToArray(N,2),u=O[0],P=O[1];return o.children.push({type:"code",language:u,value:P}),i(L),void e()}if(A.ul.test(t)){var E=t.match(A.ul),Q=_slicedToArray(E,2),R=Q[0],S=Q[1];return s(o,function(){b(S)},{isPush:!1}),o.children.push({type:"br"}),i(R),void e()}if(t.match(/.+\n/)&&/\|.+\|/.test(t.match(/.+\n/)[0].trim())&&j(t))return void e();if(A.hr.test(t)){var T=t.match(A.hr)||[],U=_slicedToArray(T,1),X=U[0];return void 0!==X&&o.children.push({type:"hr",children:[]}),i(X),void e()}if(A.text.test(t)){var V=t.match(A.text)||[""],x=_slicedToArray(V,1),y=x[0];return k(y),i(y),void e()}throw new Error("cannot handle str:".concat(t))}}var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";t+="\n\n";var o={children:[],type:"root"};return e(),o}function i(a,b){return b&&b.parentElement&&b.parentElement.insertBefore(a,b),a}function j(k){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:document.body;if(k){var m=k.nextNode;switch(k.type){case"del":{var b=k.prevNode.__htmlNode;b.parentElement||console.log("delete error::",k),b.parentElement.removeChild(b);break}case"add":{l(m,a,{beforeAppend:function(d){var b=a.childNodes[k.moveTo];if(b)return i(d,b),!0}});break}case"replace":{var c=k.prevNode.__htmlNode,e=document.createDocumentFragment();l(m,e),c.parentElement.replaceChild(e,c);break}case"move":{var n=k.moveTo,f=k.prevNode,o=f.__htmlNode.parentElement;o.childNodes[n]!==f.__htmlNode&&(o.childNodes[n]?i(f.__htmlNode,o.childNodes[n]):o.appendChild(f.__htmlNode));break}case"update":{var p=k.propsChange,q=k.children,h=k.prevNode,g=k.nextNode,r=h.__htmlNode;g.__htmlNode=r,h.__update&&(g.__update=h.__update),p.forEach(function(d){var a=d.key;switch(d.type){case"change":case"add":{var b=g[a];if(h.__update){h.__update(a,g);break}if(r instanceof Text){r.data=b;break}r.setAttribute(a,b);break}case"del":{r.removeAttribute(a);break}}}),q.forEach(function(b){return j(b,r)});break}default:console.error("canot handle type",k,k.type);}}}function k(a){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";return"text"===a.type&&(c+=a.value||""),a.children&&a.children.forEach(function(a){c+=k(a)}),c}function l(j,d){var m,c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};switch(j.type){case"audio":case"video":{if(/^<iframe(\s*.+)*><\/iframe>$/.test(j.src.trim())){m=document.createElement("div"),m.className="audio",m.innerHTML=j.src.replace("http://","//");var o=m.querySelector("iframe");o.style.cssText+=";max-width: 100%; max-height: 60vw; overflow: hidden;"}else m=document.createElement(j.type),m.src=j.src,m.alt=j.alt,m.controls="true";break}case"img":{var a=j.src.match(/\.(\d+)x(\d+)\./);if(a){var n=a.slice(1,3),p=_slicedToArray(n,2),f=p[0],b=p[1],q=j.src;m=document.createElement("div"),m.style.cssText=";position: relative; max-width: ".concat(f,"px; overflow: hidden; background: rgb(219, 221, 215);"),m.innerHTML="<div style=\"padding-top: ".concat(100*(b/f),"%;\">\n                            <img ").concat(LY.lazyLoad.caches.includes(q)?"src=\"".concat(q,"\" data-img-cache=\"true\""):"","\n                                class=\"lazy-load-img img-loading\"\n                                data-lazy-img=\"").concat(j.src,"\"\n                                style=\"position: absolute; width: 100%; height: 100%; top: 0;\" />\n                        </div>");break}else{m=document.createElement(j.type),m.src=j.src,m.alt=j.alt;break}}case"text":{var t=j.value;m=document.createTextNode(t);break}case"br":{m=document.createElement(j.type);break}case"a":{m=document.createElement(j.type),m.href=j.href,m.target="_blank";break}case"code":{m=document.createElement("pre");var g=document.createElement("code");j.__update=function(a,b){switch(a){case"language":{g.className=["highlight",b[a]||""].join(" ");break}case"value":{g.textContent=b[a];break}default:}},j.__update("language",j),j.__update("value",j),m.appendChild(g);break}case"inlineCode":{m=document.createElement("code"),m.className="inlineCode";break}case"h1":{m=document.createElement(j.type);var h=document.createElement("a"),r=k(j);h.href="#".concat(r),h.id=r,m.appendChild(h);break}case"ul":{m=document.createElement(j.type),j.__update=function(a,b){m.style.cssText+=";list-style-type:".concat(b[a],";")},j.__update("listStyleType",j);break}default:m=document.createElement(j.type),j.indent&&(m.style.cssText+=";padding-left: 2em;"),"table"==j.type&&m.setAttribute("border","1");}j.tag&&m.setAttribute("tag",j.tag),j.children&&j.children.forEach(function(b){return l(b,m)});var s=c.beforeAppend&&c.beforeAppend(m);return s||d.appendChild(m),j.__htmlNode=m,m}function m(a){function c(a){"text"==a.type&&(d+=a.value||""),"img"==a.type&&f.push(a.src),a.children&&a.children.forEach(c)}var d="",f=[];return c(a),{text:d,imgs:f}}function o(){var d=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",c=a[d];if(!c){var e=h(d);c=_objectSpread({root:e},m(e)),a[d]=c}return c}function p(a){return new Promise(function(b){if(q[a])return b();var c=function(){q[a]=!0,b()};if(a.endsWith(".js")){var d=document.createElement("script");d.onload=c,d.src=a,document.head.appendChild(d)}else if(a.endsWith(".css")){var e=document.createElement("link");e.onload=c,e.type="text/css",e.rel="stylesheet",e.charset="utf-8",e.href=a,document.head.appendChild(e)}})}function u(a,c){Promise.all(c.asset.map(p)).then(function(){window.hljs&&a&&(window.hljs.configure({tabReplace:4}),_toConsumableArray(a.querySelectorAll("code.highlight")).forEach(function(a){window.hljs.highlightBlock(a)}))})}function n(a){return _objectSpread({asset:[]},a)}var A={get hr(){return /(^-{3,}[^\n]+\n?)/},get code(){return /^`{3}(((?!```)[\s\S])*)`{3}/},get queto(){return /^>(((?!\n\n)[\s\S])*)\n\n/},get head(){return /^\s*(#{1,6})([^\n]*)\n?/},get ul(){return /^([-+]\s+((?!\n\n)[\s\S])*)\n\n/},get url(){return /^\[([^\]]+)\]\(([^)]+)\)/},get inlineCode(){return /^`([^`]*)`/},get br(){return /^\n/},get text(){return /^[^\n]*\n?/},get blod(){return /^\*{3}(((?!\*{3}).)*)\*{3}/},get italic(){return /^\*{2}(((?!\*{2}).)*)\*{2}/},get video(){return /^!{3}\[([^\]]*)\]\(([^)]+)\)/},get audio(){return /^!{2}\[([^\]]*)\]\(([^)]+)\)/},get img(){return /^!\[([^\]]*)\]\(([^)]+)\)/}},a={},q={},d=function(){function a(d,b){_classCallCheck(this,a),this.dom=d,this.config=b,this.prevRoot=null}return _createClass(a,[{key:"update",value:function(d){this.dom.classList.add("markdown");var b=o(d),e=s(this.prevRoot,b.root);this.prevRoot=b.root,j(e,this.dom);var a=n(this.config);a.useHighlight&&u(this.dom,a)}}]),a}();return e.Markdown=d,e.parser=h,e.trans=l,e.codeHighlight=u,e.getParseResult=o,e.markdown=function(d,b,a){d.innerHTML="",d.classList.add("markdown");var f=o(b);l(f.root,d),a=n(a),u(d,a)},e.markdownInfo=function(b){var c=o(b),d=c.root,a=_objectWithoutProperties(c,["root"]);return a},e}({});